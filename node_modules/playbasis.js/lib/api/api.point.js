'use strict';





module.exports=function(Playbasis){


var http=Playbasis.http;
var helpers=Playbasis.helpers;


var apiMethod="Point";


var api=Playbasis.pointApi={};

















api.listCustomStatus=function(options)
{
var keys=["player_list","status","from","to","offset","limit"];
var defaultValues=[null,null,null,null,"0","20"];

return http.getJsonAsync(helpers.createApiUrl(apiMethod,"custom","list")+helpers.appendAndJoinIfNotNullAsUrlParam2(keys,defaultValues,options));
};








api.retrieveTransactionCustomPoint=function(txnId)
{
return http.getJsonAsync(helpers.createApiUrl(apiMethod,"custom","transaction")+helpers.appendAndJoinIfNotNullAsUrlParam("transaction_id",txnId));
};













api.approveTransactionCustomPoint=function(txnList,options)
{
var obj={token:Playbasis.env.global.token,transaction_list:txnList,approve:"true"};


if(options!=null){
if(options.approve!=null){
obj.approve=options.approve;
}
}

return http.postJsonAsync(helpers.createApiUrl(apiMethod,"custom","approval"),obj);
};












api.retrieveRemainingPoints=function(options)
{
var keys=["name"];
var defaultValues=[null];

return http.getJsonAsync(helpers.createApiUrl(apiMethod,"custom","remaining")+helpers.appendAndJoinIfNotNullAsUrlParam2(keys,defaultValues,options));
};
};